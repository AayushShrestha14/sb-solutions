<databaseChangeLog
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

  <changeSet author="elvin" id="57-audit-customer-loan">
    <createTable tableName="customer_loan_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="customer_info_id" type="BIGINT"/>
      <column name="loan_id" type="BIGINT"/>
      <column name="company_info_id" type="BIGINT"/>
      <column name="loan_type" type="INT"/>
      <column name="document_status" type="INT"/>
      <column name="loan_category" type="BIGINT"/>
      <column name="site_visit_id" type="BIGINT"/>
      <column name="current_stage_id" type="BIGINT"/>
      <column name="branch_id" type="BIGINT"/>
      <column name="offer_letter_url" type="VARCHAR(100)"/>
      <column name="proposal_id" type="BIGINT"/>
      <column name="financial_id" type="BIGINT"/>
      <column name="security_id" type="BIGINT"/>
      <column name="previous_stage_list" type="LONGTEXT"/>
      <column name="credit_risk_grading_id" type="BIGINT"/>
    </createTable>
    <addPrimaryKey tableName="customer_loan_audit" columnNames="id,rev" constraintName="PK_customer_loan_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_loan_audit" baseColumnNames="rev"
      constraintName="FK_customer_loan_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer">
    <createTable tableName="customer_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="title" type="VARCHAR(256)"/>
      <column name="customer_name" type="VARCHAR(256)"/>
      <column name="account_no" type="VARCHAR(256)"/>
      <column name="province_id" type="BIGINT"/>
      <column name="district_id" type="BIGINT"/>
      <column name="municipalities_id" type="BIGINT"/>
      <column name="street" type="VARCHAR(256)"/>
      <column name="ward_number" type="VARCHAR(256)"/>
      <column name="email" type="VARCHAR(256)"/>
      <column name="initial_relation_date" type="DATE"/>
      <column name="citizenship_number" type="VARCHAR(256)"/>
      <column name="citizenship_issued_date" type="DATE"/>
      <column name="citizenship_issued_place" type="VARCHAR(256)"/>
      <column name="status" type="INT"/>
      <column name="contact_number" type="VARCHAR(256)"/>
      <column name="occupation" type="VARCHAR(256)"/>
      <column name="income_source" type="VARCHAR(256)"/>
      <column name="dob" type="DATE"/>
    </createTable>
    <addPrimaryKey tableName="customer_audit" columnNames="id,rev" constraintName="PK_customer_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_audit" baseColumnNames="rev"
      constraintName="FK_customer_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-site-visit">
    <createTable tableName="site_visit_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="data" type="LONGTEXT"/>
    </createTable>
    <addPrimaryKey tableName="site_visit_audit" columnNames="id,rev" constraintName="PK_site_visit_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="site_visit_audit" baseColumnNames="rev"
      constraintName="FK_site_visit_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-role">
    <createTable tableName="role_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="role_name" type="VARCHAR(256)"/>
      <column name="status" type="INT"/>
      <column name="role_type" type="INT"/>
      <column name="role_access" type="INT"/>
    </createTable>
    <addPrimaryKey tableName="role_audit" columnNames="id,rev" constraintName="PK_role_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="role_audit" baseColumnNames="rev"
      constraintName="FK_role_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-loan-stage">
    <createTable tableName="loan_stage_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="comment" type="LONGTEXT"/>
      <column name="from_user_id" type="BIGINT"/>
      <column name="to_user_id" type="BIGINT"/>
      <column name="from_role_id" type="BIGINT"/>
      <column name="to_role_id" type="BIGINT"/>
      <column name="doc_action" type="INT"/>
    </createTable>
    <addPrimaryKey tableName="loan_stage_audit" columnNames="id,rev" constraintName="PK_loan_stage_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="loan_stage_audit" baseColumnNames="rev"
      constraintName="FK_loan_stage_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-proposal">
    <createTable tableName="proposal_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="data" type="LONGTEXT"/>
      <column name="proposed_limit" type="DECIMAL"/>
      <column name="tenure_duration_in_months" type="DOUBLE"/>
    </createTable>
    <addPrimaryKey tableName="proposal_audit" columnNames="id,rev" constraintName="PK_proposal_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="proposal_audit" baseColumnNames="rev"
      constraintName="FK_proposal_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-financial">
    <createTable tableName="financial_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="data" type="LONGTEXT"/>
    </createTable>
    <addPrimaryKey tableName="financial_audit" columnNames="id,rev" constraintName="PK_financial_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="financial_audit" baseColumnNames="rev"
      constraintName="FK_financial_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-security">
    <createTable tableName="security_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="data" type="LONGTEXT"/>
    </createTable>
    <addPrimaryKey tableName="security_audit" columnNames="id,rev" constraintName="PK_security_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="security_audit" baseColumnNames="rev"
      constraintName="FK_security_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-credit-risk-grading">
    <createTable tableName="credit_risk_grading_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="data" type="LONGTEXT"/>
    </createTable>
    <addPrimaryKey tableName="credit_risk_grading_audit" columnNames="id,rev" constraintName="PK_credit_risk_grading_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="credit_risk_grading_audit" baseColumnNames="rev"
      constraintName="FK_credit_risk_grading_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer-document">
    <createTable tableName="customer_document_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="document_path" type="VARCHAR(256)"/>
      <column name="document_id" type="BIGINT"/>
    </createTable>
    <addPrimaryKey tableName="customer_document_audit" columnNames="id,rev" constraintName="PK_customer_document_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_document_audit" baseColumnNames="rev"
      constraintName="FK_customer_document_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer-document-Path-customer-loan">
    <createTable tableName="customer_document_Path_customer_loan_audit">
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="customer_loan_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="customer_document_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <addPrimaryKey tableName="customer_document_Path_customer_loan_audit" columnNames="customer_loan_id,customer_document_id,rev" constraintName="PK_customer_document_Path_customer_loan_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_document_Path_customer_loan_audit" baseColumnNames="rev"
      constraintName="FK_customer_document_Path_customer_loan_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer-relative">
    <createTable tableName="customer_relative_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="title" type="VARCHAR(256)"/>
      <column name="customer_relation" type="VARCHAR(256)"/>
      <column name="customer_relative_name" type="VARCHAR(256)"/>
      <column name="citizenship_number" type="VARCHAR(256)"/>
      <column name="citizenship_issued_date" type="DATE"/>
      <column name="citizenship_issued_place" type="VARCHAR(256)"/>
    </createTable>
    <addPrimaryKey tableName="customer_relative_audit" columnNames="id,rev" constraintName="PK_customer_relative_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_relative_audit" baseColumnNames="rev"
      constraintName="FK_customer_relative_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer-relative">
    <createTable tableName="customer_relative_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="title" type="VARCHAR(256)"/>
      <column name="customer_relation" type="VARCHAR(256)"/>
      <column name="customer_relative_name" type="VARCHAR(256)"/>
      <column name="citizenship_number" type="VARCHAR(256)"/>
      <column name="citizenship_issued_date" type="DATE"/>
      <column name="citizenship_issued_place" type="VARCHAR(256)"/>
    </createTable>
    <addPrimaryKey tableName="customer_relative_audit" columnNames="id,rev" constraintName="PK_customer_relative_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_relative_audit" baseColumnNames="rev"
      constraintName="FK_customer_relative_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-customer-customer-relatives">
    <createTable tableName="customer_customer_relatives_audit">
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="customer_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="customer_relatives_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <addPrimaryKey tableName="customer_customer_relatives_audit" columnNames="customer_id,customer_relatives_id,rev" constraintName="PK_customer_customer_relatives_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="customer_customer_relatives_audit" baseColumnNames="rev"
      constraintName="FK_customer_customer_relatives_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-legal-status">
    <createTable tableName="legal_status_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="corporate_structure" type="VARCHAR(256)"/>
      <column name="registered_office" type="VARCHAR(256)"/>
      <column name="registered_under_act" type="VARCHAR(256)"/>
      <column name="registration_date" type="DATE"/>
      <column name="pan_registration_office" type="VARCHAR(256)"/>
      <column name="pan_registration_date" type="DATE"/>
    </createTable>
    <addPrimaryKey tableName="legal_status_audit" columnNames="id,rev" constraintName="PK_legal_status_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="legal_status_audit" baseColumnNames="rev"
      constraintName="FK_legal_status_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-capital">
    <createTable tableName="capital_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="authorized_capital" type="DOUBLE"/>
      <column name="paid_up_capital" type="DOUBLE"/>
      <column name="issued_capital" type="DOUBLE"/>
      <column name="total_capital" type="DOUBLE"/>
      <column name="fixed_capital" type="DOUBLE"/>
      <column name="working_capital" type="DOUBLE"/>
      <column name="number_of_shareholder" type="INT"/>
    </createTable>
    <addPrimaryKey tableName="capital_audit" columnNames="id,rev" constraintName="PK_capital_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="capital_audit" baseColumnNames="rev"
      constraintName="FK_capital_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-swot">
    <createTable tableName="swot_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="strength" type="VARCHAR(256)"/>
      <column name="weakness" type="VARCHAR(256)"/>
      <column name="opportunity" type="VARCHAR(256)"/>
      <column name="threats" type="VARCHAR(256)"/>
    </createTable>
    <addPrimaryKey tableName="swot_audit" columnNames="id,rev" constraintName="PK_swot_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="swot_audit" baseColumnNames="rev"
      constraintName="FK_swot_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-management-team">
    <createTable tableName="management_team_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="name" type="VARCHAR(256)"/>
      <column name="description" type="LONGTEXT"/>
      <column name="designation" type="VARCHAR(256)"/>
    </createTable>
    <addPrimaryKey tableName="management_team_audit" columnNames="id,rev" constraintName="PK_management_team_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="management_team_audit" baseColumnNames="rev"
      constraintName="FK_management_team_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-proprietor">
    <createTable tableName="proprietor_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="name" type="VARCHAR(256)"/>
      <column name="contact_no" type="VARCHAR(256)"/>
      <column name="province_id" type="BIGINT"/>
      <column name="district_id" type="BIGINT"/>
      <column name="municipality_vdc_id" type="BIGINT"/>
      <column name="share" type="DOUBLE"/>
    </createTable>
    <addPrimaryKey tableName="proprietor_audit" columnNames="id,rev" constraintName="PK_proprietor_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="proprietor_audit" baseColumnNames="rev"
      constraintName="FK_proprietor_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

  <changeSet author="elvin" id="57-audit-company-info">
    <createTable tableName="company_info_audit">
      <column name="id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="company_name" type="VARCHAR(256)"/>
      <column name="registration_number" type="VARCHAR(256)"/>
      <column name="establishment_date" type="DATE"/>
      <column name="business_type" type="INT"/>
      <column name="pan_number" type="VARCHAR(256)"/>
      <column name="legal_status_id" type="INT"/>
      <column name="capital_id" type="INT"/>
      <column name="swot_id" type="INT"/>
    </createTable>
    <addPrimaryKey tableName="company_info_audit" columnNames="id,rev" constraintName="PK_company_info_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="company_info_audit" baseColumnNames="rev"
      constraintName="FK_company_info_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>

    <createTable tableName="company_info_management_team_list_audit">
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="company_info_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="management_team_list_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <addPrimaryKey tableName="company_info_management_team_list_audit" columnNames="company_info_id,management_team_list_id,rev" constraintName="PK_company_info_management_team_list_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="company_info_management_team_list_audit" baseColumnNames="rev"
      constraintName="FK_company_info_management_team_list_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>

    <createTable tableName="company_info_proprietors_list_audit">
      <column name="rev" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="revtype" type="SMALLINT"/>
      <column name="company_info_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="proprietors_list_id" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <addPrimaryKey tableName="company_info_proprietors_list_audit" columnNames="company_info_id,proprietors_list_id,rev" constraintName="PK_company_info_proprietors_list_audit_id_rev"/>
    <addForeignKeyConstraint baseTableName="company_info_proprietors_list_audit" baseColumnNames="rev"
      constraintName="FK_company_info_proprietors_list_audit_rev_revinfo_rev"
      referencedTableName="revinfo" referencedColumnNames="rev"/>
  </changeSet>

</databaseChangeLog>
